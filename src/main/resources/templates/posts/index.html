<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
    <head>
        <meta charset="UTF-8">
        <title>Index</title>
    </head>
    <body>
<!--    <div th:include="navbar"></div>-->
    <nav>
        <ul>
            <!-- More links here... -->
            <li>
                <form th:action="@{/logout}" th:method="post">
                    <button class="btn-link btn" style="margin-top: 8px">Logout</button>
                </form>
            </li>
        </ul>
    </nav>

    <p>You are currently logged in as:</p>
    <div sec:authorize="isAuthenticated()">

        User ID: <span th:text="${#authentication.principal.id}"/>
        Username: <span th:text="${#authentication.principal.username}"/>
        Email: <span th:text="${#authentication.principal.email}"/>
    </div>

        <div th:each="post : ${posts}">
            <h2 th:text="${post.title}"></h2>
            <p th:text="${post.body}"></p>
        </div>
    </body>
</html>